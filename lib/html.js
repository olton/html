/*!
 * HtmlJS - Create html elements with JS
 * Copyright 2024 by Serhii Pimenov
 * Licensed under MIT
 !*/
!function(){"use strict";function dashedName(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}const e=["opacity","zIndex","order","zoom"];function setStyles(t={}){return"string"==typeof t?t:Object.keys(t).map((a=>{const s=dashedName(a);let n=t[a];return e.includes(s)||isNaN(n)||(n+="px"),`${s}: ${n}`})).join(";")}const t=["accesskey","autocapitalize","autofocus","contenteditable","dir","draggable","enterkeyhint","hidden","inert","inputmode","is","itemid","itemprop","itemref","itemscope","itemtype","lang","nonce","popover","spellcheck","style","tabindex","title","translate","writingsuggestions"],a=["onauxclick","onbeforeinput","onbeforematch","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwheel"];class BaseElement{constructor(e={}){this.options=e,this.tag="div"}selfAttributes(){return[]}get attributes(){return this.getAttributes().join(" ")}getAttributes(){let e=[],a=["hidden","disabled","required","readonly","selected","open","multiply","default"],s=["className","style","data","tag","events"];for(let n in this.options)s.includes(n)||(a.includes(n)&&!0===this.options[n]?e.push(n):(this.selfAttributes().includes(n)&&!e.includes(n)||t.includes(n))&&e.push(`${n}="${this.options[n]}"`));return this.classes&&e.push(`class="${this.classes}"`),this.styles&&e.push(`style="${this.styles}"`),this.dataSet&&e.push(this.dataSet),this.aria&&e.push(this.aria),e}draw(){return this.template()}get dataSet(){const{data:e={}}=this.options;let t=[];for(let a in e)t.push(`data-${dashedName(a)}="${e[a]}"`);return t.join(" ")}get aria(){const{aria:e={}}=this.options;let t=[];for(let a in e)t.push(`aria-${a.toLowerCase()}="${e[a]}"`);return t.join(" ")}get events(){const{events:e={},control:t=!0}=this.options;let s=[];for(let n in e)t&&!a.includes(n)&&console.info(`Event ${n} for element ${this.tag} not specified in HTML specification`),s.push(`${n.toLowerCase()}="${e[n]}"`);return s.join(" ")}get classes(){return function setClasses(e=[]){return Array.isArray(e)?e.join(" "):e.toString()}(this.options.class)}get styles(){return setStyles(this.options.style)}template(){return""}toString(){return this.draw()}toElement(){return(e=>{let t,a,s,n,r=[];if("string"==typeof e){if(e=e.trim(),s=document.implementation.createHTMLDocument(""),t=s.createElement("base"),t.href=document.location.href,s.head.appendChild(t),n=s.body,a=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i.exec(e),a)return document.createElement(a[1]);n.innerHTML=e;for(let e=0;e<n.childNodes.length;e++)r.push(n.childNodes[e]);return r[0]}})(this.draw())}}const parser=e=>{if(Array.isArray(e))return e.map(parser).join("\n");if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return e;if(e.draw)return e.draw();throw new Error("Unknown element! "+e)};class Tag extends BaseElement{constructor(...e){let t={},a=[];for(let s of e)"object"!=typeof s||s instanceof BaseElement?a.push(s):t=s;super(t),this.children=a}template(e){const t=this.options.tag?this.options.tag:this.tag;return`\n            <${t} ${this.attributes} ${this.events}>${e}</${t}>\n        `}draw(){return this.template(this.children.map(parser).join(""))}}class SingleTag extends BaseElement{constructor(e={}){super(e),this.options=e}template(){return`\n            <${this.options.tag?this.options.tag:this.tag} ${this.attributes} ${this.events}/>\n        `}}var s=Object.freeze({__proto__:null,render:(e=[],t=document.body,a={})=>{let s,n;const{clear:r=!0,where:o="beforeend"}=a;n="string"==typeof t?document.querySelector(t):t,n instanceof HTMLElement||(n=document.body),r&&(n.innerHTML=""),Array.isArray(e)||(e=[e]),s=e.map(parser).join(""),n.insertAdjacentHTML(o,s)}});const createStyleElement=(e="",t)=>{let a=document.createElement("style");return void 0!==t&&a.setAttribute("media",t),a.appendChild(document.createTextNode(e)),document.head.appendChild(a),a},createStyleSheet=e=>createStyleElement(e).sheet,addCssRule=(e,t,a)=>{e.insertRule(t+"{"+a+"}")};var n=Object.freeze({__proto__:null,addCssRule:addCssRule,addStyle:(e,t)=>{if("string"==typeof e)return void createStyleElement(e,t);const a=createStyleSheet(t);for(let t in e)addCssRule(a,t,setStyles(e[t]))},createStyleElement:createStyleElement,createStyleSheet:createStyleSheet});class Html extends Tag{tag="html";selfAttributes(){return["lang"]}}class Head extends Tag{tag="head"}class Base extends SingleTag{tag="base";selfAttributes(){return["href","target"]}}class Link extends SingleTag{tag="link";selfAttributes(){return["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","blocking","color","disabled","fetchpriority"]}}class Body extends Tag{tag="body"}class Span extends Tag{tag="span"}class Img extends SingleTag{tag="img";selfAttributes(){return["align","alt","border","height","hspace","ismap","longdesc","lowsrc","src","vspace","width","usemap"]}}class Input extends SingleTag{tag="input";selfAttributes(){return["accept","align","alt","autocomplete","autofocus","border","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","list","max","maxlength","min","multiple","name","pattern","placeholder","size","src","step","type","value"]}}class Br extends SingleTag{tag="br";selfAttributes(){return["clear"]}}class Hr extends SingleTag{tag="hr"}class Heading extends Tag{constructor(e="h1",...t){super(...t),this.tag=e}}const heading=(e="h1",...t)=>new Heading(e,...t);class Section extends Tag{tag="section"}class Anchor extends Tag{tag="a";selfAttributes(){return["coords","download","hreflang","name","rel","rev","shape","target","type","href"]}}class Abbr extends Tag{tag="abbr"}class Article extends Tag{tag="article"}class Nav extends Tag{tag="nav"}class Aside extends Tag{tag="aside"}class Header extends Tag{tag="header"}class Footer extends Tag{tag="footer"}class Address extends Tag{tag="address"}class Map extends Tag{tag="map";selfAttributes(){return["name"]}}class Area extends SingleTag{tag="area";selfAttributes(){return["alt","coords","hreflang","nohref","shape","target","type","href"]}}class AudioTag extends Tag{tag="audio";selfAttributes(){return["autoplay","controls","loop","preload","src"]}}class Bold extends Tag{tag="b"}class Bdi extends Tag{tag="bdi"}class Bdo extends Tag{tag="bdo"}class Blockquote extends Tag{tag="blockquote";selfAttributes(){return["cite"]}}class Button extends Tag{tag="button";selfAttributes(){return["autofocus","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","type","value"]}}class Canvas extends Tag{tag="canvas";selfAttributes(){return["width","height"]}}class Table extends Tag{tag="table";selfAttributes(){return["align","background","bgcolor","border","bordercolor","cellpadding","cellspacing","cols","frame","height","rules","summary","width"]}}class Caption extends Tag{tag="caption";selfAttributes(){return["align","valign"]}}class Col extends SingleTag{tag="col";selfAttributes(){return["align","valign","char","charoff","span","width"]}}class Colgroup extends SingleTag{tag="colgroup";selfAttributes(){return["align","valign","char","charoff","span","width"]}}class TableSection extends Tag{constructor(e="tbody",...t){super(...t),this.tag=e}selfAttributes(){return["align","valign","char","charoff","bgcolor"]}}class TableRow extends Tag{tag="tr";selfAttributes(){return["align","bgcolor","bordercolor","char","charoff","valign"]}}class TableCell extends Tag{constructor(e="td",...t){super(...t),this.tag=e}selfAttributes(){return["abbr","align","axis","background","bgcolor","bordercolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]}}class Cite extends Tag{tag="cite"}class Code extends Tag{tag="code"}class Dl extends Tag{tag="dl"}class Dt extends Tag{tag="dt"}class Dd extends Tag{tag="dd"}class Details extends Tag{tag="details"}class Summary extends Tag{tag="summary"}class Dfn extends Tag{tag="dfn"}class Div extends Tag{tag="div";selfAttributes(){return["align","title"]}}class Em extends Tag{tag="em"}class Ital extends Tag{tag="i"}class Strong extends Tag{tag="strong"}class Embed extends Tag{tag="embed";selfAttributes(){return["align","height","hspace","pluginspace","src","type","vspace","width"]}}class NoEmbed extends Tag{tag="noembed"}class Fieldset extends Tag{tag="fieldset";selfAttributes(){return["form","title"]}}class Legend extends Tag{tag="legend";selfAttributes(){return["align","title"]}}class Figure extends Tag{tag="figure"}class FigCaption extends Tag{tag="figcaption"}class Form extends Tag{tag="form";selfAttributes(){return["accept-charset","action","autocomplete","enctype","method","name","novalidate","target"]}}class Frameset extends Tag{tag="frameset";selfAttributes(){return["border","bordercolor","cols","frameborder","framespacing","rows"]}}class Frame extends SingleTag{tag="frame";selfAttributes(){return["bordercolor","frameborder","noresize","name","src","scrolling"]}}class NoFrames extends Tag{tag="noframes"}class IFrame extends Tag{tag="iframe";selfAttributes(){return["align","allowtransparency","frameborder","height","hspace","marginheight","marginwidth","name","sandbox","scrolling","seamless","src","srcdoc","vspace","width"]}}class Ins extends Tag{tag="ins";selfAttributes(){return["cite","datetime"]}}class Kbd extends Tag{tag="kbd"}class Label extends Tag{tag="label";selfAttributes(){return["for"]}}class List extends Tag{constructor(e="ul",...t){super(...t),this.tag=e}selfAttributes(){return"ul"===this.tag?["type"]:["type","reserved","start"]}}class ListItem extends Tag{tag="li";selfAttributes(){return["type","value"]}}class Mark extends Tag{tag="mark"}class NoScript extends Tag{tag="noscript"}class Select extends Tag{tag="select";selfAttributes(){return["autofocus","form","name","size"]}}class OptionGroup extends Tag{tag="optgroup";selfAttributes(){return["label"]}}class Option extends Tag{tag="option";selfAttributes(){return["label","value"]}}class Output extends Tag{tag="output";selfAttributes(){return["for","form","name"]}}class Paragraph extends Tag{tag="p";selfAttributes(){return["align"]}}class Pre extends Tag{tag="pre"}class Quoted extends Tag{tag="q";selfAttributes(){return["cite"]}}class Strike extends Tag{tag="strike"}class Script extends Tag{tag="script";selfAttributes(){return["async","defer","language","src","type"]}}class Small extends Tag{tag="small"}class Source extends SingleTag{tag="source";selfAttributes(){return["media","src","type"]}}class Sub extends Tag{tag="sub"}class Sup extends Tag{tag="sup"}class Textarea extends Tag{tag="textarea";selfAttributes(){return["autofocus","cols","form","maxlength","name","placeholder","rows","wrap"]}}class Time extends Tag{tag="time";selfAttributes(){return["datetime","pubdate"]}}class Track extends SingleTag{tag="track";selfAttributes(){return["kind","src","srclang","label"]}}class Var extends Tag{tag="var"}class VideoTag extends Tag{tag="video";selfAttributes(){return["autoplay","controls","height","loop","loop","poster","preload","src","width"]}}class Wbr extends SingleTag{tag="wbr"}class Main extends Tag{tag="main"}class Meta extends SingleTag{tag="meta";selfAttributes(){return["content","name","http-equiv","charset"]}}class Title extends Tag{tag="title"}class Template extends Tag{tag="template";selfAttributes(){return["shadowrootmode","shadowrootdelegatesfocus","shadowrootclonable","shadowrootserializable"]}}class Ruby extends Tag{tag="ruby"}class Rt extends SingleTag{tag="rt"}class Rp extends SingleTag{tag="rp"}class Data extends Tag{tag="data"}class Picture extends Tag{tag="picture"}class Dialog extends Tag{tag="dialog";selfAttributes(){return["open"]}}class Slot extends Tag{tag="slot";selfAttributes(){return["name"]}}var r=Object.freeze({__proto__:null,Abbr:Abbr,Address:Address,Anchor:Anchor,Area:Area,Article:Article,Aside:Aside,AudioTag:AudioTag,Base:Base,Bdi:Bdi,Bdo:Bdo,Blockquote:Blockquote,Body:Body,Bold:Bold,Br:Br,Button:Button,Canvas:Canvas,Caption:Caption,Cite:Cite,Code:Code,Col:Col,Colgroup:Colgroup,Data:Data,Dd:Dd,Details:Details,Dfn:Dfn,Dialog:Dialog,Div:Div,Dl:Dl,Dt:Dt,Em:Em,Embed:Embed,Fieldset:Fieldset,FigCaption:FigCaption,Figure:Figure,Footer:Footer,Form:Form,Frame:Frame,Frameset:Frameset,Head:Head,Header:Header,Heading:Heading,Hr:Hr,Html:Html,IFrame:IFrame,Img:Img,Input:Input,Ins:Ins,Ital:Ital,Kbd:Kbd,Label:Label,Legend:Legend,Link:Link,List:List,ListItem:ListItem,Main:Main,Map:Map,Mark:Mark,Meta:Meta,Nav:Nav,NoEmbed:NoEmbed,NoFrames:NoFrames,NoScript:NoScript,Option:Option,OptionGroup:OptionGroup,Output:Output,Paragraph:Paragraph,Picture:Picture,Pre:Pre,Quoted:Quoted,Rp:Rp,Rt:Rt,Ruby:Ruby,Script:Script,Section:Section,Select:Select,Slot:Slot,Small:Small,Source:Source,Span:Span,Strike:Strike,Strong:Strong,Sub:Sub,Summary:Summary,Sup:Sup,Table:Table,TableCell:TableCell,TableRow:TableRow,TableSection:TableSection,Template:Template,Textarea:Textarea,Time:Time,Title:Title,Track:Track,Var:Var,VideoTag:VideoTag,Wbr:Wbr,a:(...e)=>new Anchor(...e),abbr:(...e)=>new Abbr(...e),address:(...e)=>new Address(...e),anchor:(...e)=>new Anchor(...e),area:(e={})=>new Area(e),article:(...e)=>new Article(...e),aside:(...e)=>new Aside(...e),audio:(...e)=>new AudioTag(...e),base:e=>new Base(e),bdi:(...e)=>new Bdi(...e),bdo:(...e)=>new Bdo(...e),blockquote:(...e)=>new Blockquote(...e),body:(...e)=>new Body(...e),bold:(...e)=>new Bold(...e),br:e=>new Br(e),button:(...e)=>new Button(...e),canvas:(...e)=>new Canvas(...e),caption:(...e)=>new Caption(...e),cite:(...e)=>new Cite(...e),code:(...e)=>new Code(...e),col:e=>new Col(e),colgroup:e=>new Colgroup(e),data:(...e)=>new Data(...e),dd:(...e)=>new Dd(...e),details:(...e)=>new Details(...e),dfn:(...e)=>new Dfn(...e),dialog:(...e)=>new Dialog(...e),div:(...e)=>new Div(...e),dl:(...e)=>new Dl(...e),dt:(...e)=>new Dt(...e),em:(...e)=>new Em(...e),embed:(...e)=>new Embed(...e),fieldset:(...e)=>new Fieldset(...e),figcaption:(...e)=>new FigCaption(...e),figure:(...e)=>new Figure(...e),footer:(...e)=>new Footer(...e),form:(...e)=>new Form(...e),frame:(e={})=>new Frame(e),frameset:(...e)=>new Frameset(...e),h1:(...e)=>heading("h1",...e),h2:(...e)=>heading("h2",...e),h3:(...e)=>heading("h3",...e),h4:(...e)=>heading("h4",...e),h5:(...e)=>heading("h5",...e),h6:(...e)=>heading("h6",...e),head:(...e)=>new Head(...e),header:(...e)=>new Header(...e),heading:heading,hr:e=>new Hr(e),html:(...e)=>new Html(...e),i:(...e)=>new Ital(...e),iframe:(...e)=>new IFrame(...e),img:(e="",t="",a={})=>new Img({...a,src:e,alt:t}),input:(e={})=>new Input(e),ins:(...e)=>new Ins(...e),ital:(...e)=>new Ital(...e),kbd:(...e)=>new Kbd(...e),label:(...e)=>new Label(...e),legend:(...e)=>new Legend(...e),li:(...e)=>new ListItem(...e),link:e=>new Link(e),main:(...e)=>new Main(...e),map:(...e)=>new Map(...e),mark:(...e)=>new Mark(...e),meta:e=>new Meta(e),nav:(...e)=>new Nav(...e),noembed:(...e)=>new NoEmbed(...e),noframes:(...e)=>new NoFrames(...e),noscript:(...e)=>new NoScript(...e),ol:(...e)=>new List("ol",...e),optgroup:(...e)=>new OptionGroup(...e),option:(...e)=>new Option(...e),output:(...e)=>new Output(...e),p:(...e)=>new Paragraph(...e),paragraph:(...e)=>new Paragraph(...e),picture:(...e)=>new Picture(...e),pre:(...e)=>new Pre(...e),q:(...e)=>new Quoted(...e),quoted:(...e)=>new Quoted(...e),rp:e=>new Rp(e),rt:e=>new Rt(e),ruby:(...e)=>new Ruby(...e),s:(...e)=>new Strike(...e),script:(...e)=>new Script(...e),section:(...e)=>new Section(...e),select:(...e)=>new Select(...e),slot:(...e)=>new Slot(...e),small:(...e)=>new Small(...e),source:(e={})=>new Source(e),span:(...e)=>new Span(...e),strike:(...e)=>new Strike(...e),strong:(...e)=>new Strong(...e),sub:(...e)=>new Sub(...e),summary:(...e)=>new Summary(...e),sup:(...e)=>new Sup(...e),table:(...e)=>new Table(...e),tbody:(...e)=>new TableSection("tbody",...e),td:(...e)=>new TableCell("td",...e),template:(...e)=>new Template(...e),textarea:(...e)=>new Textarea(...e),tfoot:(...e)=>new TableSection("tfoot",...e),th:(...e)=>new TableCell("th",...e),thead:(...e)=>new TableSection("thead",...e),time:(...e)=>new Time(...e),title:e=>new Title(e),tr:(...e)=>new TableRow(...e),track:(e={})=>new Track(e),ul:(...e)=>new List("ul",...e),variable:(...e)=>new Var(...e),video:(...e)=>new VideoTag(...e),wbr:e=>new Wbr(e)});var o=Object.freeze({__proto__:null,clearViewStorageHolder:e=>localStorage.removeItem(`html::key::${e}`),cssLoader:async(e,t)=>{let a,s,n=await fetch(e,t);if(!n.ok)throw new Error("HTTP error: "+n.status);a=await n.text(),s=document.createElement("style"),s.appendChild(document.createTextNode(a)),document.body.appendChild(s)},jsLoader:async(e,t)=>{let a,s,n=await fetch(e,t);if(!n.ok)throw new Error("HTTP error: "+n.status);a=await n.text(),s=document.createElement("script"),s.appendChild(document.createTextNode(a)),document.body.appendChild(s)},viewLoader:async(e,t={},a=!1)=>{let s,n,r;if(!1!==a&&(r=`html::key::${e}`,n=localStorage.getItem(r)),!n){if(s=await fetch(e,t),!s.ok)throw new Error("HTTP error: "+s.status);n=await s.text(),!1!==a&&localStorage.setItem(r,n)}(0,eval)(`result = ${n}`)}});class Router{version="0.1.0";_routes=[];_route="/";_mode=null;_ignore="[data-route-ignore]";_404=()=>{};constructor(e={}){this.options=Object.assign({},this.options,e),this.options.mode&&(this._mode=this.options.mode),this.options.ignore&&(this._ignore=this.options.ignore),this.options.routes&&this.addRoutes(this.options.routes),this.options[404]&&"function"==typeof this.options[404]&&(this._404=this.options[404])}clearSlashes(e){return e.replace(/\/$/,"").replace(/^\//,"")}index(e){let t=-1;for(let a=0;a<this._routes.length;a++)if(this._routes[a].path===e){t=a;break}return t}routeExists(e){return-1!==this.index(e)}_routesFn(e,t){if(Array.isArray(e)&&e.length)e.forEach((e=>{e.path&&this[t](e.path,e.callback)}));else if("object"==typeof e)for(let a in e)e.hasOwnProperty(a)&&this[t](a,e[a])}addRoute(e,t){return e&&!this.routeExists(e)&&this._routes.push({path:e,callback:t,pattern:new RegExp("^"+e.replace(/:\w+/g,"(\\w+)")+"$")}),this}addRoutes(e){return this._routesFn(e,"addRoute"),this}updRoute(e,t){const a=this.index(e);if(-1!==a)return t&&t.path&&(this._routes[a].path=t.path),t&&t.callback&&(this._routes[a].callback=t.callback),this}updRoutes(e){return this._routesFn(e,"updRoute"),this}delRoute(e){return this.routeExists(e)&&delete this._routes[e],this}findRoute(e){let t;for(let a=0;a<this._routes.length;a++)if(e.match(this._routes[a].pattern)){t=this._routes[a];break}return t}exec(e=document.location,t=!1){let a,s,n;return a=new URL(e),s=a.pathname,n=this.findRoute(s),n?(t&&history.pushState(null,null,s),n&&"function"==typeof n.callback&&n.callback.apply(this,[s]),this.route=s,this):(this._404(),this)}listen(){const{ignore:e}=this.options;return window.addEventListener("click",(t=>{const a=t.target;let s;"a"!==a.tagName.toLowerCase()||a.matches(e)||(t.preventDefault(),s=a.href,s&&this.exec(s,!0))}),!1),window.addEventListener("popstate",(e=>{this.exec(document.location)}),!1),this}}var l=Object.freeze({__proto__:null,Router:Router,router:e=>new Router(e)});globalThis.htmljs={BaseElement:BaseElement,Tag:Tag,SingleTag:SingleTag,...r,...s,...o,...n,...l},globalThis.__htmlSaver={},globalThis.htmljs.extract=(e=globalThis)=>{for(let t in globalThis.htmljs)globalThis[t]&&(globalThis.__htmlSaver[t]=globalThis[t]),e[t]=globalThis.htmljs[t]},globalThis.htmljs.restore=(e=globalThis)=>{for(let t in globalThis.__htmlSaver)e[t]=globalThis.__htmlSaver[t]},console.info("%c HtmlJS %c v0.11.0 %c 24.06.2024, 17:03:41 ","color: #ffffff; font-weight: bold; background: #708238","color: white; background: darkgreen","color: white; background: #0080fe;")}();
